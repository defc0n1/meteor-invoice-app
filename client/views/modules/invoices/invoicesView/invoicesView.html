<template name="invoicesView">
  {{#with item}}

    <section id="TopBar">
      <nav>
        <a href="{{pathFor route='invoices.edit' }}">{{_ 'Update' }}</a>
        <a href="{{pathFor route='invoices.print' }}" class="right">{{_ 'Print' }}</a>
      </nav>
    </section>

    <article class="right-col-form invoices-form">
      <fieldset>
        <div class="field">
          <label>{{_ 'Company'}}</label>
          <div class="value"><span>{{ company.name }}</span></div>
        </div>
        <div class="field">
          <label>{{_ 'Print Template'}}</label>
          <div class="value"><span>{{ printTemplate.name }}</span></div>
        </div>
        <div class="field">
          <label>{{_ 'Invoice Number'}}</label>
          <div class="value"><span>{{ invoiceNumber }}</span></div>
        </div>
        <div class="field">
          <label>{{_ 'Invoice Date'}}</label>
          <div class="value"><span>{{formatDate dateIssued }}</span></div>
        </div>
      </fieldset>

      <fieldset>
        <div class="field">
          <label>{{_ 'Customer Name'}}</label>
          <div class="value"><span>{{ customer.name }}</span></div>
        </div>
        <div class="field">
          <label>{{_ 'Customer Company'}}</label>
          <div class="value"><span>{{ customer.company }}</span></div>
        </div>
        <div class="field">
          <label>{{_ 'Tax Number'}}</label>
          <div class="value"><span>{{ customer.taxNumber }}</span></div>
        </div>
        <div class="field">
          <label>{{_ 'Address'}}</label>
          <div class="value"><span>{{ customer.address }}</span></div>
        </div>
        <div class="field">
          <label>{{_ 'Payment Method'}}</label>
          <div class="value"><span>{{ paymentMethod }}</span></div>
        </div>
      </fieldset>

      <fieldset>
        <table class="invoice-line-items">

          <thead>
          <tr>
            <td class="orderedItem.name">{{_ 'Product Name'}}</td>
            <td>{{_ 'Unit'}}</td>
            <td>{{_ 'Quantity'}}</td>
            <td class="orderedItem.price">{{_ 'Unit Price'}}</td>
            <td class="orderedItem.price">{{_ 'Total Price'}}</td>
            <td class="orderedItem.actions"></td>
          </tr>
          </thead>

          {{#each orderedItems}}
          <tr>
            <td class="orderedItems.name"><span>{{ this.name }}</span></td>
            <td><span>{{ this.unit }}</span></td>
            <td><span>{{ this.quantity }}</span></td>
            <td><span>{{ this.unitPrice }}</span></td>
            <td><span>{{ this.totalPrice }}</span></td>
            <td class="orderedItem.actions"></td>
          </tr>
          {{/each}}

          <tfoot>
            <tr>
              <td></td>
              <td></td>
              <td class="tfoot-label" colspan="2">{{_ "Subtotal" }}</td>
              <td><span>{{ total.beforeGST }}</span></td>
              <td></td>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td class="tfoot-label" colspan="2">{{_ "VAT" }}</td>
              <td><span>{{ total.GST }}</span></td>
              <td></td>
            </tr>
            <tr>
              <td></td>
              <td></td>
              <td class="tfoot-label" colspan="2">{{_ "Total Payment" }}</td>
              <td><span>{{ total.afterGST }}</span></td>
              <td></td>
            </tr>
          </tfoot>
        </table>

      </fieldset>
  </article>
  {{/with}}

</template>
