<template name="invoiceList">

  {{#contentFor "modals"}}
    <a href="{{pathFor 'invoice.new' }}" data-nav-direction="right">New invoice</a>
  {{/contentFor}}

  {{#contentFor "TheList"}}
  <ul class="list-multiple-lines">
    {{#each invoices}}
      <li class="{{ isInvoiceSelected }}" data-item-id="{{ _id }}">
        <article class="invoice-summary-card">
          <div class="invoice-total-after-GST">{{ total.plusGST }}d</div>
          <div class="invoice-customer-name">{{ customer.name }}</div>
          <div class="invoice-number">#{{ invoiceNumber }}</div>
          <div class="invoice-company-name">{{ customer.company }}</div>
        </article>
      </li>
    {{/each}}
  </ul>
  {{/contentFor}}

  {{#contentFor "TopBar"}}
    <a href="#" class="update">Update</a>
  {{/contentFor}}

  {{#contentFor "BottomBar"}}
    <a href="#" class="cancel">Cancel</a>
  {{/contentFor}}

  <article id="InvoiceShow" class="invoice-details-card">
    {{#with theSelectedInvoice}}

      <div class="invoice-number">{{_ "#"}}{{ invoiceNumber }}</div>

      <section class="invoice-customer-info">
        <div class="invoice-customer-name">{{ customer.name }}</div>
        <div class="invoice-customer-company">{{ customer.company }}</div>
        <div class="invoice-customer-tax-number">{{ customer.taxNumber }}</div>
        <div class="invoice-customer-address">{{ customer.address }}</div>
      </section>

      <section class="invoice-line-items">
        <dl>
          <dt>{{_ "Subtotal" }}</dt>
          <dd>{{ total.beforeGST }}</dd>

          <dt>{{_ "GST" }}</dt>
          <dd>{{ total.GST }}</dd>

          <dt>{{_ "Total" }}</dt>
          <dd>{{ total.plusGST }}</dd>
        </dl>
      </section>
    {{/with}}
  </article>

  <div id="InvoiceUpdate" style="display:none">
    {{> quickForm collection="Invoices" doc=theSelectedInvoice id="invoiceUpdateForm" type="update"}}
  </div>

</template>
