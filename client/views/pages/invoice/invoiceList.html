<template name="invoiceList">

  {{#contentFor "modals"}}
    <a href="{{pathFor 'invoice.new' }}" data-nav-direction="right">New invoice</a>
  {{/contentFor}}

  {{#contentFor "TheList"}}
  <ul class="list-multiple-lines">
    {{#each invoices}}
      <li class="{{ isInvoiceSelected }}" data-item-id="{{ _id }}">
        <div>
          <span>{{ invoiceNumber }}</span>
          <span>{{ total.plusGST }}</span>
          <span>
            {{ customer.name }}
            {{ customer.company }}
          </span>
        </div>
      </li>
    {{/each}}
  </ul>
  {{/contentFor}}

  {{#contentFor "TopBar"}}
    <a href="#" class="update">Update</a>
  {{/contentFor}}

  <div class="invoice-show">
    {{#with theSelectedInvoice}}

      <section class="generic">
        <h3>{{_ "Invoice Number"}} {{ invoiceNumber }}</h3>
      </section>
      <section class="seller"></section>
      <section class="buyer">
        <dl>
          <dt>{{_ "Customer name" }}:</dt>
          <dd>{{ customer.name }}</dd>

          <dt>{{_ "Company" }}:</dt>
          <dd>{{ customer.company }}</dd>

          <dt>{{_ "Tax Number" }}:</dt>
          <dd>{{ customer.taxNumber }}</dd>

          <dt>{{_ "Address" }}:</dt>
          <dd>{{ customer.address }}</dd>
        </dl>
      </section>
      <section class="totals">
        <dl>
          <dt>{{_ "Total before GST" }}:</dt>
          <dd>{{ total.beforeGST }}</dd>

          <dt>{{_ "GST" }}:</dt>
          <dd>{{ total.GST }}</dd>

          <dt>{{_ "Total after GST" }}:</dt>
          <dd>{{ total.plusGST }}</dd>
        </dl>
      </section>
    {{/with}}
  </div>

  <div class="invoice-update" style="display:none">
    {{> quickForm collection="Invoices" doc=selectedInvoice id="invoiceUpdateForm" type="update"}}
  </div>

</template>
